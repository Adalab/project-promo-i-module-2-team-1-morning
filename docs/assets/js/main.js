"use strict";const formComplete=document.querySelector(".complete__form"),formObject={name:document.querySelector(".js-form-input-name"),job:document.querySelector(".js-form-input-job"),email:document.querySelector(".js-form-input-email"),tel:document.querySelector(".js-form-input-tel"),linkedin:document.querySelector(".js-form-input-linkedin"),github:document.querySelector(".js-form-input-github")};formComplete.addEventListener("keyup",ensureData);const cardObject={name:document.querySelector(".js-card-title-first"),job:document.querySelector(".js-card-title-second"),tel:document.querySelector(".js-a-mobile"),email:document.querySelector(".js-a-mail"),linkedin:document.querySelector(".js-a-linkedin"),github:document.querySelector(".js-a-github"),image:document.querySelector(".js-card-img")};function setLocalStorage(){const e={};for(const t in formObject)e[t]=formObject[t].value;localStorage.setItem("data",JSON.stringify(e))}function getLocalStorage(){const e=JSON.parse(localStorage.getItem("data"));if(null!==e)for(const t in formObject)formObject[t].value=e[t];ensureData()}function ensureData(){cardObject.name.innerHTML=formObject.name.value||"Nombre Apellido",cardObject.job.innerHTML=formObject.job.value||"Puesto de trabajo",document.querySelector(".js-a-mobile").href="tel:"+formObject.tel.value,document.querySelector(".js-a-mail").href="mailto:"+formObject.email.value,document.querySelector(".js-a-linkedin").href=formObject.linkedin.value,document.querySelector(".js-a-github").href=formObject.github.value,setLocalStorage()}getLocalStorage();let pallete=document.querySelector(".design__form"),card=document.querySelector(".js-card");function changePallete(e){"green"===e.target.id?(card.classList.add("card--theme1"),card.classList.remove("card--theme2"),card.classList.remove("card--theme3")):"red"===e.target.id?(card.classList.add("card--theme2"),card.classList.remove("card--theme3"),card.classList.remove("card--theme1")):(card.classList.add("card--theme3"),card.classList.remove("card--theme2"),card.classList.remove("card--theme1"))}pallete.addEventListener("change",changePallete);const btnReset=document.querySelector(".js-btn-reset");function reset(){for(const e in formObject)formObject[e].value="";ensureData()}btnReset.addEventListener("click",reset);const shareButtonDiv=document.querySelector(".js-share__button"),button=document.querySelector(".js-button"),divList=document.querySelectorAll(".js-title-collapse"),myCard=document.querySelector(".js-share__card");function unCollapse(){shareButtonDiv.classList.toggle("hidden")}function createCard(){button.classList.remove("share__button__enabled"),button.classList.add("share__button__unabled"),myCard.classList.remove("hidden")}divList[2].addEventListener("click",unCollapse),button.addEventListener("click",createCard);const invisibleInput=document.querySelector(".js-input-invisible");function previewFile(){var e=document.querySelector(".js-img"),t=document.querySelector(".js-input-invisible").files[0],r=new FileReader;r.onloadend=function(){e.src=r.result,cardObject.image.src=e.src},t?r.readAsDataURL(t):e.src=""}function toggleBtnStyle(){document.querySelector(".complete__form__image-fields__image-button-label").classList.toggle("hover")}invisibleInput.addEventListener("onchange",previewFile),invisibleInput.addEventListener("mouseover",toggleBtnStyle),invisibleInput.addEventListener("mouseout",toggleBtnStyle);